<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<!-- https://github.com/almasaeed2010/AdminLTE -->
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<f:facet name="first">
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	</f:facet>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async="async" src="https://www.googletagmanager.com/gtag/js?id=#{plantillaUIVista.googleAnalyticsCode}"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', '#{plantillaUIVista.googleAnalyticsCode}');
	</script>
	
	<!-- Tell the browser to be responsive to screen width -->
	<!-- Bootstrap 3.3.7 -->
	<link rel="stylesheet"
		href="#{request.contextPath}/AdminLTE/bower_components/bootstrap/dist/css/bootstrap.min.css" />
	<!-- Font Awesome -->
	<!-- Ionicons -->
	<link rel="stylesheet"
		href="#{request.contextPath}/AdminLTE/bower_components/Ionicons/css/ionicons.min.css" />
	<!-- Theme style -->
	<link rel="stylesheet" href="#{request.contextPath}/AdminLTE/dist/css/AdminLTE-micasa.css" />
	<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
	<link rel="stylesheet" href="#{request.contextPath}/AdminLTE/dist/css/skins/skin-blue-light-micasa.css" />

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	
	<meta name="description" content="#{plantillaUIVista.descripcionApp}" />
	<meta name="author" content="#{plantillaUIVista.autorApp}" />
	<meta name="robots" content="index, follow" />
	
	<link rel="shortcut icon" href="#{request.contextPath}/favicon.ico" />
	
	<title>..:: #{plantillaUIVista.nombreApp} ::.</title>
	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/login.css" />
	
	<script src="#{request.contextPath}/js/juno.js"></script>
</h:head>

<h:body class="hold-transition register-page">

	<div class="register-box">
	  <div class="login-logo">
	    <a href="#{request.contextPath}/index.xhtml">
			<img src="#{request.contextPath}/img/logo_habitat_nicaragua.png" alt="#{plantillaUIVista.nombreApp}" class="img-responsive center-block" /></a>
	  </div>
	  
	  <div class="register-box-body">
		<p class="login-box-msg">Crear nueva cuenta</p>
		
		<h:form id="frm">
			
			<div class="form-group has-feedback">
				<b:inputText id="username" name="username" label="" render-label="false" value="#{registroVista.nombresApellidos}"
					styleClass="form-control" placeholder="Nombres y apellidos" autocomplete="off">
				</b:inputText>
			</div>
			<div class="form-group has-feedback">
				<b:inputText id="email" name="email" mask="email" label="" render-label="false" value="#{registroVista.correo}"
					styleClass="form-control" placeholder="Correo" autocomplete="off">
				</b:inputText>
			</div>
			<div class="form-group has-feedback">
				<b:inputText id="clave" name="clave" label="" render-label="false" value="#{registroVista.clave}"
					styleClass="form-control" placeholder="Contrase&#241;a" type="password" autocomplete="off">
				</b:inputText>
			</div>
			<div class="form-group has-feedback">
				<b:inputText id="clave2" name="clave2" label="" render-label="false" value="#{registroVista.clave2}"
					styleClass="form-control" placeholder="Repetir Contrase&#241;a" type="password" autocomplete="off">
				</b:inputText>
			</div>
			
			<div class="form-group has-feedback">
				<img src="#{request.contextPath}/publico/captcha.png" alt="Captcha" id="captcha" class="img-responsive center-block" />
			</div>
			
			<div class="form-group has-feedback">
				<a class="text-center generar-nuevo-codigo" href="#">Generar otro c&#243;digo</a>
			</div>
					
			<div class="form-group has-feedback">
				<b:inputText id="captcha" name="captcha" label="" render-label="false" value="#{registroVista.captcha}"
					styleClass="form-control" placeholder="Escriba el c&#243;digo indicado" autocomplete="off">
				</b:inputText>
			</div>
			
			<div class="row">
		        <div class="col-xs-8">
		          	<b:selectBooleanCheckbox caption="Acepto los t&#233;rminos de uso." 
		          		label="" render-label="false" value="#{registroVista.aceptaTerminos}" />
		        </div>
      		</div>
      
			<div class="form-group has-feedback">
				<b:commandButton look="primary btn-block" ajax="true" value="Registrarme" size="lg" 
					actionListener="#{registroVista.crearNuevaCuenta}" 
					onerror="$('#input_frm-captcha').val('');$('.generar-nuevo-codigo').trigger('click');" 
					onsuccess="irA('#{request.contextPath}/login.xhtml');"/>
			</div>
			
			<div class="form-group has-feedback">
				<b:button type="button" class="btn btn-block" size="lg" 
					value="Cancelar" onclick="irA('#{request.contextPath}/login.xhtml');" />
			</div>
		</h:form>
	
	  </div>
	</div>

	<h:form id="frmMsg">
		<b:growl id="global" globalOnly="true" show-detail="true" show-summary="false" allowDismiss="true" delay="0" timer="0" />
	</h:form>
		
	<!-- Bootstrap 3.3.7 -->
	<script src="#{request.contextPath}/AdminLTE/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	
	<script type="text/javascript">
	//<![CDATA[
		$(document).ready(function(){
			$('.generar-nuevo-codigo').click(function(event){
				event.preventDefault();
				var id = Math.random();
				$('#captcha').attr('src', '#{request.contextPath}/publico/captcha/'+id+'.png');
		    });
		});
	//]]>
	</script>
	
	<script type="text/javascript">
	//<![CDATA[
		$.blockUI.defaults.overlayCSS.opacity=0;
		$.blockUI.defaults.message='<h1><img src="#{request.contextPath}/javax.faces.resource/images/waitcursor.gif.jsf?ln=bsf" /></h1>';
	//]]>
	</script>

</h:body>
</html>